<template>
    <div class="wrap-all">
        <lightning-quick-action-panel header="Select CSM Champions">
            <template if:true={isLoading}>
                <lightning-spinner alternative-text="Loading..." size="medium"></lightning-spinner>
            </template>
            <template if:false={isLoading}>
                <lightning-dual-listbox name="csmChampSelect"
                    label="Select CSM Champions"
                    source-label="Available Contacts"
                    selected-label="Please move the contacts you want to set as CSM Champions to the right"
                    options={contacts_options}
                    value={selected_champs}
                    onchange={handleChampSelected}
                    disable-reordering>
                </lightning-dual-listbox>
                <div slot="footer">
                    <lightning-button variant="neutral" label="Cancel" onclick={closeQuickAction} class="slds-m-left_x-small"></lightning-button>
                    <lightning-button variant="brand" label="Save" onclick={handleSave} class="slds-m-left_x-small"></lightning-button>
                </div>
            </template>
            <template if:true={error}>
                <c-error-panel errors={error}></c-error-panel>
            </template>
        </lightning-quick-action-panel>
    </div>
</template>