<template>
    <div style="position:relative">
        <lightning-card  title="Create Flat Renewal SO ðŸ§™â€â™‚ï¸" icon-name="standard:quotes">
        <!-- <template if:true={loading}><lightning-spinner alternative-text="Loading" variant="brand" size="large"></lightning-spinner></template> -->
        <div class=â€œslds-p-around_medium>
            <lightning-button label="Start" onclick={handleStart} slot="actions" class="slds-m-left_x-small"></lightning-button>    
        </div>
        <lightning-card if:true={showCreateRenewalSoSection}>
            <div class="slds-container_small">
                <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container" >
                        <div class="slds-is-relative">
                            <template if:true={loadingModal}><lightning-spinner alternative-text="Loading" variant="brand" size="large"></lightning-spinner></template>
                            <header class="slds-modal__header">
                                <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Create Flat Renewal SO</h2>
                            </header>
                            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                                <lightning-input type="text" label="Contract Seats" value={contractSeats} disabled=true></lightning-input>
                                <lightning-input type="text" label="Tier" value={contractTier} disabled=true></lightning-input>
                                <lightning-input type="text" label="Period" value={contractPeriod} disabled=true></lightning-input>
                                <lightning-input type="text" label="Renewal Unit Price" value={contractRenewalUnitPriceWithCurrencyText} disabled=true></lightning-input>
                                <lightning-input type="text" label="Total" value={total} disabled=true></lightning-input>
                            </div>                            
                            <footer class="slds-modal__footer">
                                <lightning-button variant="neutral" name="cancel" label="Cancel" title="Cancel" onclick={handleCancelClick} ></lightning-button>
                                <lightning-button variant="brand" name="submit" label="Next" title="Next" onclick={handleSubmitClick} ></lightning-button>
                            </footer>
                        </div>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </div>
        </lightning-card>
      
        <lightning-card if:true={showConfirmation}>
            <div class="slds-container_small">
                <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <h2 class="slds-text-heading_medium slds-hyphenate">Are You Sure?</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium">
                            <p>By clicking confirm you will automatically create a flat renewal SO for this opportunity based on the selected company contract</p>
                        </div>
                        <footer class="slds-modal__footer">
                            <lightning-button variant="neutral"
                                                name="cancel"
                                                label="Previous"
                                                title="Previous"
                                                onclick={handleConfirmationCancel} ></lightning-button>
                            <lightning-button variant="brand"
                                                name="confirm"
                                                label="Confirm and Create"
                                                title="Confirm and Create"
                                                onclick={handleCreateClick} ></lightning-button>
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </div>
        </lightning-card>
    </lightning-card>
    </div>
</template>